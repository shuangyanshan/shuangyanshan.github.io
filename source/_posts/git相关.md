---
title: git相关
date: 2024-03-26 21:37:50
tags:
hide: true
---

# 1. 介绍——git是什么？

首先，先让我们了解一下版本控制系统。

<!-- more -->

版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。依据参与人数，请让我们将其分为两大类：（个人）本地与可协作——

本地，顾名思义，just在本地的版本库，修改方便，但若无备份，delete一点，一切白干。

可协作，分为集中式与分布式。

在集中式版本控制系统中，版本库集中放在中央服务器。由于修改者一般用的都是自己的电脑（非中央服务器），故工作时，首先要从中央服务器哪里得到最新的文件版本 *（一般电脑上不会有所有文件的最新版本）*，然后再把修改推送到中央服务器。集中式版本控制系统必须联网才能工作，其交互速度受到网速的限制。

分布式版本控制系统则没有中央服务器，每个人的电脑将存储一个完整的代码仓库（含完整的历史记录），故无须要求联网。当需要多人协作时，合作者之间需要将各自的修改推送给对方，从而起到多人共同修改文件的效果。

而git，便是当前世界上最先进的分布式版本控制系统。

版本控制系统的工作原理：

![](https://raw.githubusercontent.com/shuangyanshan/image/main/img/%E7%89%88%E6%9C%AC%E5%BA%93%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.png)

*Workspace：工作区，添加、编辑、修改文件等操作；*

*Index / Stage：暂存区，暂存已修改的文件；*

*Repository：仓库区（或本地仓库），将index中最终确定的文件保存到仓库成为一个新的版本；*

*Remote：远程仓库*

> 图上的操作可以结合下方git常用操作理解



# 2.git 的相关操作

[菜鸟教程](https://www.runoob.com/git/git-tutorial.html)

[非常说人话的git干货教程1](https://zhuanlan.zhihu.com/p/30044692)

[教程2（内容其实差不多）](https://zhuanlan.zhihu.com/p/652125463)

## git常用命令：

* git init 在已创建目录的前提下将该目录转变为git控制的存储库。

* git clone 在本地没有版本库时，将远程仓库复制到本地

* git pull 在本地仓库已存在时，从远程仓库拉取（最新的）内容并将其合并到本地版本库中

* git add 添加文件到暂存区

* git commit 提交文件到本地仓库

* git push 将本地仓库的新的改变推送到远程仓库

* git fetch 从远程版本库抓取最新的commits（内容），待用户在检查后决定是否将其合并到工作本机分支中

* git merge 合并*（git pull = git fetch + git merge）*

* git checkout <branch_name> 用于在不同的分支之间切换、恢复文件、创建新分支等操作。

* * *

# 3.一些概念

## git数据保存方式

git在每次进行存储操作时，保存的不是文件的变化或者差异，而是存储的那一时刻的文件快照（可以理解为文件副本，二进制格式存储）。
而在我们的本地仓库中，有个.git的隐藏文件夹，这个是git仓库的重要部分，当我们git init或者git clone时就会存在，里面objects目录存储所有快照（文件内容）。
当你提交一次更新（文件有修改），它就会对当时被修改的文件创建一个快照。

![](https://raw.githubusercontent.com/shuangyanshan/image/main/img/59c7c9213bc2433890fb62d9df7ee4fa%7Etplv-k3u1fbpfcp-zoom-in-crop-mark_1512_0_0_0.webp)

除此之外，git会保存一个提交对象（commit object），这个提交对象包含了

- 一个指向暂存内容快照的指针

- 作者的姓名和邮箱

- 提交时输入的信息

- 指向父对象的指针（首次提交操作产生的提交对象中没有父对象）
  ![](https://raw.githubusercontent.com/shuangyanshan/image/main/img/769cb13406f14e0e80c238648ae82802%7Etplv-k3u1fbpfcp-zoom-in-crop-mark_1512_0_0_0.webp)
  
  

————T.B.C————

##### 

## 分支

一种类似于树及树干形式的对代码所处位置的描述，是代码的可能性。不同分支上的代码可以合并（状态确定）。但合并时可能会出现一些问题（冲突）。

本质上，分支是不同指针的指向的“迹”。[git分支图文理解](https://juejin.cn/post/7207263350488907813)



## 版本冲突

版本冲突多出现在合并操作(合并远程仓库代码或者合并分支代码)中。如果出现版本冲突，需要具体分析出现冲突的代码区，手动进行代码合并，然后再进行提交。
